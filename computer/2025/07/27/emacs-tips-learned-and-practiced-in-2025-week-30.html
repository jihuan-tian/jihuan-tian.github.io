<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Emacs tips learned and practiced in 2025 Week 30 | 止于至善</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Emacs tips learned and practiced in 2025 Week 30" />
<meta name="author" content="Jihuan Tian" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Have made my function tjh/org-roam-open-node-by-id support opening an Org id, which corresponds to a task in one of my Org agenda files, but is not included in my Org Roam note system. With a given id, this function first tries to acquire an Org Roam node with org-roam-node-from-id. If a node is found, use org-roam-node-visit to jump to this node. If it cannot be found, org-id-goto will be used to navigate to an Org task. N.B. The file to which this Org task belongs should have been registered as an agenda file, i.e. in the list org-agenda-files. (defun tjh/org-roam-open-node-by-id (id) &quot;Open an Org Roam node id or a normal Org id&quot; (interactive &quot;sNode id:&quot;) (let ((node (org-roam-node-from-id id))) (if node (org-roam-node-visit node) (org-id-goto id)))) Then I can connect my mindmap nodes with either an Org task or an Org Roam node by adding the roam://&lt;org-id-or-org-roam-id&gt; link as an attribute. In the same way, I can also link my Anki cards with Org task or Org Roam. I use Joplin markdown note to grab web pages and capture flashing ideas using voice input when I am walking or travel outside, so I need to copy markdown text directly into Emacs Org. The following script do this job. It uses gui-get-selection to acquire the contents in the clipboard. Then a temporary buffer is created with with-temp-bufer. The clipboard contents will be inserted into this buffer and then be processed by pandoc. Finally, the postprocessed contents are collected by buffer-string and inserted into the current buffer. (defun tjh/paste-markdown-to-org () &quot;Convert the markdown contents in the clipboard to Org format then paste into the current buffer.&quot; (interactive) (let ((md (gui-get-selection &#39;CLIPBOARD))) (when md (let ((org (with-temp-buffer (insert md) (call-process-region (point-min) (point-max) &quot;pandoc&quot; t t nil &quot;-f&quot; &quot;markdown&quot; &quot;-t&quot; &quot;org&quot; &quot;--wrap=none&quot;) (buffer-string)))) (insert org)))))" />
<meta property="og:description" content="Have made my function tjh/org-roam-open-node-by-id support opening an Org id, which corresponds to a task in one of my Org agenda files, but is not included in my Org Roam note system. With a given id, this function first tries to acquire an Org Roam node with org-roam-node-from-id. If a node is found, use org-roam-node-visit to jump to this node. If it cannot be found, org-id-goto will be used to navigate to an Org task. N.B. The file to which this Org task belongs should have been registered as an agenda file, i.e. in the list org-agenda-files. (defun tjh/org-roam-open-node-by-id (id) &quot;Open an Org Roam node id or a normal Org id&quot; (interactive &quot;sNode id:&quot;) (let ((node (org-roam-node-from-id id))) (if node (org-roam-node-visit node) (org-id-goto id)))) Then I can connect my mindmap nodes with either an Org task or an Org Roam node by adding the roam://&lt;org-id-or-org-roam-id&gt; link as an attribute. In the same way, I can also link my Anki cards with Org task or Org Roam. I use Joplin markdown note to grab web pages and capture flashing ideas using voice input when I am walking or travel outside, so I need to copy markdown text directly into Emacs Org. The following script do this job. It uses gui-get-selection to acquire the contents in the clipboard. Then a temporary buffer is created with with-temp-bufer. The clipboard contents will be inserted into this buffer and then be processed by pandoc. Finally, the postprocessed contents are collected by buffer-string and inserted into the current buffer. (defun tjh/paste-markdown-to-org () &quot;Convert the markdown contents in the clipboard to Org format then paste into the current buffer.&quot; (interactive) (let ((md (gui-get-selection &#39;CLIPBOARD))) (when md (let ((org (with-temp-buffer (insert md) (call-process-region (point-min) (point-max) &quot;pandoc&quot; t t nil &quot;-f&quot; &quot;markdown&quot; &quot;-t&quot; &quot;org&quot; &quot;--wrap=none&quot;) (buffer-string)))) (insert org)))))" />
<link rel="canonical" href="https://jihuan-tian.github.io/computer/2025/07/27/emacs-tips-learned-and-practiced-in-2025-week-30.html" />
<meta property="og:url" content="https://jihuan-tian.github.io/computer/2025/07/27/emacs-tips-learned-and-practiced-in-2025-week-30.html" />
<meta property="og:site_name" content="止于至善" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-07-27T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Emacs tips learned and practiced in 2025 Week 30" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jihuan Tian"},"dateModified":"2025-07-27T00:00:00+08:00","datePublished":"2025-07-27T00:00:00+08:00","description":"Have made my function tjh/org-roam-open-node-by-id support opening an Org id, which corresponds to a task in one of my Org agenda files, but is not included in my Org Roam note system. With a given id, this function first tries to acquire an Org Roam node with org-roam-node-from-id. If a node is found, use org-roam-node-visit to jump to this node. If it cannot be found, org-id-goto will be used to navigate to an Org task. N.B. The file to which this Org task belongs should have been registered as an agenda file, i.e. in the list org-agenda-files. (defun tjh/org-roam-open-node-by-id (id) &quot;Open an Org Roam node id or a normal Org id&quot; (interactive &quot;sNode id:&quot;) (let ((node (org-roam-node-from-id id))) (if node (org-roam-node-visit node) (org-id-goto id)))) Then I can connect my mindmap nodes with either an Org task or an Org Roam node by adding the roam://&lt;org-id-or-org-roam-id&gt; link as an attribute. In the same way, I can also link my Anki cards with Org task or Org Roam. I use Joplin markdown note to grab web pages and capture flashing ideas using voice input when I am walking or travel outside, so I need to copy markdown text directly into Emacs Org. The following script do this job. It uses gui-get-selection to acquire the contents in the clipboard. Then a temporary buffer is created with with-temp-bufer. The clipboard contents will be inserted into this buffer and then be processed by pandoc. Finally, the postprocessed contents are collected by buffer-string and inserted into the current buffer. (defun tjh/paste-markdown-to-org () &quot;Convert the markdown contents in the clipboard to Org format then paste into the current buffer.&quot; (interactive) (let ((md (gui-get-selection &#39;CLIPBOARD))) (when md (let ((org (with-temp-buffer (insert md) (call-process-region (point-min) (point-max) &quot;pandoc&quot; t t nil &quot;-f&quot; &quot;markdown&quot; &quot;-t&quot; &quot;org&quot; &quot;--wrap=none&quot;) (buffer-string)))) (insert org)))))","headline":"Emacs tips learned and practiced in 2025 Week 30","mainEntityOfPage":{"@type":"WebPage","@id":"https://jihuan-tian.github.io/computer/2025/07/27/emacs-tips-learned-and-practiced-in-2025-week-30.html"},"url":"https://jihuan-tian.github.io/computer/2025/07/27/emacs-tips-learned-and-practiced-in-2025-week-30.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/font.css">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/css/htmlize-syntax-highlight.css">
  
  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico?">
  <link href="https://fonts.googlefonts.cn/css?family=EB+Garamond" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="https://jihuan-tian.github.io/feed.xml" title="止于至善" />
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">止于至善</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          <!-- Enforce a fixed order for my categories. -->
          <a class="page-link" href="/math/">Math</a>
          <a class="page-link" href="/computer/">Computer</a>
          <a class="page-link" href="/thoughts/">Thoughts</a>
          <a class="page-link" href="/tags/">Tags</a>
          <a class="page-link" href="/about/">About</a>
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Emacs tips learned and practiced in 2025 Week 30</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2025-07-27T00:00:00+08:00" itemprop="datePublished">
        Sun, Jul 27, W29, 2025 &nbsp;

        
          Categories:
          
            <a href="/computer">Computer</a>
          
         &nbsp;
        
          Tags:
          
            <a href="/tags/Emacs">Emacs</a>
          
        
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul>
  <li>
    <p>Have made my function <code class="language-plaintext highlighter-rouge">tjh/org-roam-open-node-by-id</code> support opening an Org id, which corresponds to a task in one of my Org agenda files, but is not included in my Org Roam note system. With a given id, this function first tries to acquire an Org Roam node with <code class="language-plaintext highlighter-rouge">org-roam-node-from-id</code>. If a node is found, use <code class="language-plaintext highlighter-rouge">org-roam-node-visit</code> to jump to this node. If it cannot be found, <code class="language-plaintext highlighter-rouge">org-id-goto</code> will be used to navigate to an Org task. N.B. The file to which this Org task belongs should have been registered as an agenda file, i.e. in the list <code class="language-plaintext highlighter-rouge">org-agenda-files</code>.</p>

    <div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">defun</span> <span class="nv">tjh/org-roam-open-node-by-id</span> <span class="p">(</span><span class="nv">id</span><span class="p">)</span>
  <span class="s">"Open an Org Roam node id or a normal Org id"</span>
  <span class="p">(</span><span class="nv">interactive</span> <span class="s">"sNode id:"</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">node</span> <span class="p">(</span><span class="nv">org-roam-node-from-id</span> <span class="nv">id</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">if</span> <span class="nv">node</span> <span class="p">(</span><span class="nv">org-roam-node-visit</span> <span class="nv">node</span><span class="p">)</span>
      <span class="p">(</span><span class="nv">org-id-goto</span> <span class="nv">id</span><span class="p">))))</span>
</code></pre></div>    </div>

    <p>Then I can connect my mindmap nodes with either an Org task or an Org Roam node by adding the <code class="language-plaintext highlighter-rouge">roam://&lt;org-id-or-org-roam-id&gt;</code> link as an attribute. In the same way, I can also link my Anki cards with Org task or Org Roam.</p>
  </li>
  <li>
    <p>I use Joplin markdown note to grab web pages and capture flashing ideas using voice input when I am walking or travel outside, so I need to copy markdown text directly into Emacs Org. The following script do this job. It uses <code class="language-plaintext highlighter-rouge">gui-get-selection</code> to acquire the contents in the clipboard. Then a temporary buffer is created with <code class="language-plaintext highlighter-rouge">with-temp-bufer</code>. The clipboard contents will be inserted into this buffer and then be processed by <code class="language-plaintext highlighter-rouge">pandoc</code>. Finally, the postprocessed contents are collected by <code class="language-plaintext highlighter-rouge">buffer-string</code> and inserted into the current buffer.</p>

    <div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">defun</span> <span class="nv">tjh/paste-markdown-to-org</span> <span class="p">()</span>
  <span class="s">"Convert the markdown contents in the clipboard to Org format then paste into the current buffer."</span>
  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">md</span> <span class="p">(</span><span class="nv">gui-get-selection</span> <span class="ss">'CLIPBOARD</span><span class="p">)))</span>
    <span class="p">(</span><span class="nb">when</span> <span class="nv">md</span>
      <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">org</span> <span class="p">(</span><span class="nv">with-temp-buffer</span>
		   <span class="p">(</span><span class="nv">insert</span> <span class="nv">md</span><span class="p">)</span>
		   <span class="p">(</span><span class="nv">call-process-region</span> <span class="p">(</span><span class="nv">point-min</span><span class="p">)</span> <span class="p">(</span><span class="nv">point-max</span><span class="p">)</span> <span class="s">"pandoc"</span> <span class="no">t</span> <span class="no">t</span> <span class="no">nil</span>
					<span class="s">"-f"</span> <span class="s">"markdown"</span> <span class="s">"-t"</span> <span class="s">"org"</span> <span class="s">"--wrap=none"</span><span class="p">)</span>
		   <span class="p">(</span><span class="nv">buffer-string</span><span class="p">))))</span>
	<span class="p">(</span><span class="nv">insert</span> <span class="nv">org</span><span class="p">)))))</span>
</code></pre></div>    </div>
  </li>
</ul>


  </div><a class="u-url" href="/computer/2025/07/27/emacs-tips-learned-and-practiced-in-2025-week-30.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">止于至善</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Jihuan Tian</li><li><a class="u-email" href="mailto:jihuan_tian@hotmail.com">jihuan_tian@hotmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>As regards numerical analysis, mathematical electromagnetism, Linux techniques and personal thoughts.</p>
      </div>
      <div class="footer-col">
        <p>The articles are under a <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/'>Creative Commons Attribution License</a>. Copyright &copy; 2025 <a href="mailto:jihuan_tian@hotmail.com">Jihuan Tian</a>.</p>
      </div>
    </div>
  </div>

</footer>
</body>

</html>
