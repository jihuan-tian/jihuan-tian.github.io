<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ntheorem does not work with hyperref anymore | 止于至善</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="ntheorem does not work with hyperref anymore" />
<meta name="author" content="Jihuan Tian" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The following code is my previous configuration for loading the ntheorem package in LaTeX." />
<meta property="og:description" content="The following code is my previous configuration for loading the ntheorem package in LaTeX." />
<link rel="canonical" href="https://jihuan-tian.github.io/computer/2024/05/12/ntheorem-does-not-work-with-hyperref-anymore.html" />
<meta property="og:url" content="https://jihuan-tian.github.io/computer/2024/05/12/ntheorem-does-not-work-with-hyperref-anymore.html" />
<meta property="og:site_name" content="止于至善" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-05-12T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="ntheorem does not work with hyperref anymore" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jihuan Tian"},"dateModified":"2024-05-12T00:00:00+08:00","datePublished":"2024-05-12T00:00:00+08:00","description":"The following code is my previous configuration for loading the ntheorem package in LaTeX.","headline":"ntheorem does not work with hyperref anymore","mainEntityOfPage":{"@type":"WebPage","@id":"https://jihuan-tian.github.io/computer/2024/05/12/ntheorem-does-not-work-with-hyperref-anymore.html"},"url":"https://jihuan-tian.github.io/computer/2024/05/12/ntheorem-does-not-work-with-hyperref-anymore.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/font.css">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/css/htmlize-syntax-highlight.css">
  
  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico?">
  <link href="https://fonts.googlefonts.cn/css?family=EB+Garamond" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="https://jihuan-tian.github.io/feed.xml" title="止于至善" />
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">止于至善</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          <!-- Enforce a fixed order for my categories. -->
          <a class="page-link" href="/math/">Math</a>
          <a class="page-link" href="/computer/">Computer</a>
          <a class="page-link" href="/thoughts/">Thoughts</a>
          <a class="page-link" href="/tags/">Tags</a>
          <a class="page-link" href="/about/">About</a>
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">ntheorem does not work with hyperref anymore</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2024-05-12T00:00:00+08:00" itemprop="datePublished">May 12, 2024 &nbsp;

        
          Categories:
          
            <a href="/computer">Computer</a>
          
         &nbsp;
        
          Tags:
          
            <a href="/tags/LaTeX">LaTeX</a>
          
        
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>The following code is my previous configuration for loading the <code class="language-plaintext highlighter-rouge">ntheorem</code> package in LaTeX.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">% Mathematical environment</span>
<span class="c">%% standard: enable the standard set of theorems.</span>
<span class="c">%% thmmarks: enable the automatic placement of endmarks, which should be used</span>
<span class="c">%% together with the option amsmath when the amsmath package has been loaded.</span>
<span class="c">%% thref: enables the extended reference features.</span>
<span class="k">\usepackage</span><span class="p">{</span>framed<span class="p">}</span>
<span class="k">\makeatletter</span>
<span class="k">\@</span>ifclassloaded<span class="p">{</span>beamer<span class="p">}{</span><span class="k">\newtheorem</span><span class="p">{</span>remark<span class="p">}{</span>Remark<span class="p">}}</span>
<span class="p">{</span>
  <span class="c">%% When the document class is not beamer, define the following theorem environments.</span>
  <span class="k">\usepackage</span><span class="na">[standard, framed, amsmath, hyperref, thmmarks, thref]</span><span class="p">{</span>ntheorem<span class="p">}</span>
  <span class="c">% Define new mathematical environment.</span>
  <span class="k">\newtheorem</span><span class="p">{</span>mynote<span class="p">}{</span>Note<span class="p">}</span>
  <span class="k">\newtheorem</span><span class="p">{</span>mycomment<span class="p">}{</span>Comment<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>After upgrading to Debian Bookworm with Texlive version 2022.20230122, my LaTeX documents could not be compiled successfully with the error as below. In addition, all hyperlinks for cross references were lost.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: Argument of \@fifthoffive has an extra }.

--- TeX said ---
&lt;inserted text&gt; 
                \par 
l.5595       \State {\hyperref[algo:mmr]{MMR}
                                             ($M, M, M_1, M_2$)}
--- HELP ---
From the .log file...

I've run across a `}' that doesn't seem to match anything.
For example, `\def\a#1{...}' and `\a}' would produce
this error. If you simply proceed now, the `\par' that
I've just inserted will cause me to report a runaway
argument that might be the root of the problem. But if
your `}' was spurious, just type `2' and it will go away.
</code></pre></div></div>

<p>Initially, I though this was caused by the <code class="language-plaintext highlighter-rouge">hyperref</code> package (included in the <code class="language-plaintext highlighter-rouge">texlive-latex-base</code> Debian package), since it often conflicts with some other packages and the usual solution is to change their loading order. However, after I downloaded its latest version as a TDS zip file (it is convenient to use the TDS zip file format of a LaTeX package, because it can be installed by simply unzip the file to the desired <code class="language-plaintext highlighter-rouge">texmf</code> root folder.), new problems arose.</p>

<p>After a morning of trial-and-error, the culprit is the <code class="language-plaintext highlighter-rouge">thref</code> option used with the <code class="language-plaintext highlighter-rouge">ntheorem</code> package (included in the <code class="language-plaintext highlighter-rouge">texlive-latex-extra</code> package). Removing it solves the problem.</p>

<p><em>Lessons learned: for a beginner or even an experienced user (but not a developer), the error messages reported by LaTeX interpreter are even more esoteric than those from the C++ compiler.</em></p>


  </div><a class="u-url" href="/computer/2024/05/12/ntheorem-does-not-work-with-hyperref-anymore.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">止于至善</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Jihuan Tian</li><li><a class="u-email" href="mailto:jihuan_tian@hotmail.com">jihuan_tian@hotmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>As regards numerical analysis, mathematical electromagnetism, Linux techniques and personal thoughts.</p>
      </div>
      <div class="footer-col">
        <p>The articles are under a <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/'>Creative Commons Attribution License</a>. Copyright &copy; 2024 <a href="mailto:jihuan_tian@hotmail.com">Jihuan Tian</a>.</p>
      </div>
    </div>
  </div>

</footer>
</body>

</html>
