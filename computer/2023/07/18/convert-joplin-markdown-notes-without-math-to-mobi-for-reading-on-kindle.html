<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Convert Joplin Markdown notes without math to mobi for reading on Kindle | 止于至善</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Convert Joplin Markdown notes without math to mobi for reading on Kindle" />
<meta name="author" content="Jihuan Tian" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="When there are no mathematical symbols or equations in Joplin notes, we had better use the mobi format to read them on Kindle. At present, the conversion is performed in three steps." />
<meta property="og:description" content="When there are no mathematical symbols or equations in Joplin notes, we had better use the mobi format to read them on Kindle. At present, the conversion is performed in three steps." />
<link rel="canonical" href="https://jihuan-tian.github.io/computer/2023/07/18/convert-joplin-markdown-notes-without-math-to-mobi-for-reading-on-kindle.html" />
<meta property="og:url" content="https://jihuan-tian.github.io/computer/2023/07/18/convert-joplin-markdown-notes-without-math-to-mobi-for-reading-on-kindle.html" />
<meta property="og:site_name" content="止于至善" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-07-18T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Convert Joplin Markdown notes without math to mobi for reading on Kindle" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jihuan Tian"},"dateModified":"2023-07-18T00:00:00+08:00","datePublished":"2023-07-18T00:00:00+08:00","description":"When there are no mathematical symbols or equations in Joplin notes, we had better use the mobi format to read them on Kindle. At present, the conversion is performed in three steps.","headline":"Convert Joplin Markdown notes without math to mobi for reading on Kindle","mainEntityOfPage":{"@type":"WebPage","@id":"https://jihuan-tian.github.io/computer/2023/07/18/convert-joplin-markdown-notes-without-math-to-mobi-for-reading-on-kindle.html"},"url":"https://jihuan-tian.github.io/computer/2023/07/18/convert-joplin-markdown-notes-without-math-to-mobi-for-reading-on-kindle.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/font.css">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/css/htmlize-syntax-highlight.css">
  
  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico?">
  <link href="https://fonts.googlefonts.cn/css?family=EB+Garamond" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="https://jihuan-tian.github.io/feed.xml" title="止于至善" />
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">止于至善</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          <!-- Enforce a fixed order for my categories. -->
          <a class="page-link" href="/math/">Math</a>
          <a class="page-link" href="/computer/">Computer</a>
          <a class="page-link" href="/thoughts/">Thoughts</a>
          <a class="page-link" href="/tags/">Tags</a>
          <a class="page-link" href="/search/">Search</a>
          <a class="page-link" href="/about/">About</a>
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Convert Joplin Markdown notes without math to mobi for reading on Kindle</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2023-07-18T00:00:00+08:00" itemprop="datePublished">Jul 18, 2023 &nbsp;

        
          Categories:
          
            <a href="/computer">Computer</a>
          
         &nbsp;
        
          Tags:
          
            <a href="/tags/Kindle">Kindle</a>
          
            <a href="/tags/Joplin">Joplin</a>
          
            <a href="/tags/Pandoc">Pandoc</a>
          
        
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>When there are no mathematical symbols or equations in Joplin notes, we had better use the mobi format to read them on Kindle. At present, the conversion is performed in three steps.</p>

<ol>
  <li>Export Joplin notes to <code class="language-plaintext highlighter-rouge">Markdown + Front Matter</code>.</li>
  <li>
    <p>Convert the exported Markdown files to the epub format.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># @file: md2epub.sh</span>
<span class="nb">export </span><span class="nv">https_proxy</span><span class="o">=</span>http://192.168.0.100:1080<span class="p">;</span> <span class="nb">export </span><span class="nv">http_proxy</span><span class="o">=</span>http://192.168.0.100:1080<span class="p">;</span> pandoc <span class="nt">-f</span> markdown <span class="nt">-t</span> epub <span class="nt">--epub-metadata</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span> <span class="nt">-o</span> <span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="p">%md</span><span class="k">}</span><span class="s2">epub"</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
</code></pre></div>    </div>

    <p>In the above Bash script, before executing <code class="language-plaintext highlighter-rouge">pandoc</code>, https and http proxy servers are specified, which are used for downloading images from abroad. The pandoc option <code class="language-plaintext highlighter-rouge">--epub-metadata</code> is used to specify the language information in the converted document. According to <a href="https://pandoc.org/chunkedhtml-demo/11.1-epub-metadata.html">here</a>, the language should be in the <a href="https://www.rfc-editor.org/info/bcp47">BCP7</a> format, such as <code class="language-plaintext highlighter-rouge">en-US</code>, <code class="language-plaintext highlighter-rouge">en-GB</code>, <code class="language-plaintext highlighter-rouge">zh-CN</code>, <code class="language-plaintext highlighter-rouge">zh-TW</code>, etc. From <a href="https://en.wikipedia.org/wiki/IETF_language_tag">Wikipedia</a>, a list of common language tags can be found. The metadata file is in XML format as below.</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dc:language&gt;</span>en-GB<span class="nt">&lt;/dc:language&gt;</span>
</code></pre></div>    </div>

    <p>The above language configuration is very important. Otherwise, when the finally obtained mobi file is opened in Kindle, assume it is an English article, no English fonts can be configured but only Chinese fonts.</p>
  </li>
  <li>
    <p>Convert the epub files to mobi format by using the <code class="language-plaintext highlighter-rouge">ebook-convert</code> command provided by Calibre.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ebook-convert <span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="p">%md</span><span class="k">}</span><span class="s2">epub"</span> <span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="p">%md</span><span class="k">}</span><span class="s2">mobi"</span> <span class="nt">--no-inline-toc</span>
</code></pre></div>    </div>
  </li>
</ol>

<p>Combine step 2 and step 3 into a single script:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># @file: md2mobi.sh</span>
md2epub.sh <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
ebook-convert <span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="p">%md</span><span class="k">}</span><span class="s2">epub"</span> <span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="p">%md</span><span class="k">}</span><span class="s2">mobi"</span> <span class="nt">--no-inline-toc</span>
</code></pre></div></div>

<p>To convert all the Markdown files in the current folder, execute this command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="k">*</span>.md | xargs <span class="nt">-I</span> <span class="s2">"{}"</span> md2mobi.sh <span class="s2">"{}"</span> ../en-gb-metadata.xml
</code></pre></div></div>


  </div><script src="https://utteranc.es/client.js"
          repo="jihuan-tian/jihuan-tian.github.io"
          issue-term="pathname"
          theme="github-light"
          crossorigin="anonymous"
          async>
  </script>

  <a class="u-url" href="/computer/2023/07/18/convert-joplin-markdown-notes-without-math-to-mobi-for-reading-on-kindle.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">止于至善</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Jihuan Tian</li><li><a class="u-email" href="mailto:jihuan_tian@hotmail.com">jihuan_tian@hotmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>As regards numerical analysis, mathematical electromagnetism, Linux techniques and personal thoughts.</p>
      </div>
      <div class="footer-col">
        <p>The articles are under a <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/'>Creative Commons Attribution License</a>. Copyright &copy; 2025 <a href="mailto:jihuan_tian@hotmail.com">Jihuan Tian</a>.</p>
      </div>
    </div>
  </div>

</footer>
</body>

</html>
