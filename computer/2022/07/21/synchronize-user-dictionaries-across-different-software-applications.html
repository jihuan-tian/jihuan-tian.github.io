<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Synchronize user dictionaries across different software applications | 止于至善</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Synchronize user dictionaries across different software applications" />
<meta name="author" content="Jihuan Tian" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Table of contents" />
<meta property="og:description" content="Table of contents" />
<link rel="canonical" href="https://jihuan-tian.github.io/computer/2022/07/21/synchronize-user-dictionaries-across-different-software-applications.html" />
<meta property="og:url" content="https://jihuan-tian.github.io/computer/2022/07/21/synchronize-user-dictionaries-across-different-software-applications.html" />
<meta property="og:site_name" content="止于至善" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-07-21T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Synchronize user dictionaries across different software applications" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jihuan Tian"},"dateModified":"2022-07-21T00:00:00+08:00","datePublished":"2022-07-21T00:00:00+08:00","description":"Table of contents","headline":"Synchronize user dictionaries across different software applications","mainEntityOfPage":{"@type":"WebPage","@id":"https://jihuan-tian.github.io/computer/2022/07/21/synchronize-user-dictionaries-across-different-software-applications.html"},"url":"https://jihuan-tian.github.io/computer/2022/07/21/synchronize-user-dictionaries-across-different-software-applications.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/font.css">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/css/htmlize-syntax-highlight.css">
  
  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico?">
  <link href="https://fonts.googlefonts.cn/css?family=EB+Garamond" rel="stylesheet">
  <script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=67ba859acde8790019eafb38&product=inline-share-buttons' async='async'></script><link type="application/atom+xml" rel="alternate" href="https://jihuan-tian.github.io/feed.xml" title="止于至善" />
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">止于至善</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          <!-- Enforce a fixed order for my categories. -->
          <a class="page-link" href="/math/">Math</a>
          <a class="page-link" href="/computer/">Computer</a>
          <a class="page-link" href="/thoughts/">Thoughts</a>
          <a class="page-link" href="/tags/">Tags</a>
          <a class="page-link" href="/about/">About</a>
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Synchronize user dictionaries across different software applications</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2022-07-21T00:00:00+08:00" itemprop="datePublished">Jul 21, 2022 &nbsp;

        
          Categories:
          
            <a href="/computer">Computer</a>
          
         &nbsp;
        
          Tags:
          
            <a href="/tags/Bash">Bash</a>
          
            <a href="/tags/Aspell">Aspell</a>
          
            <a href="/tags/command">command</a>
          
        
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 class="no_toc" id="table-of-contents">Table of contents</h1>

<ul id="markdown-toc">
  <li><a href="#synchronize-to-joplin" id="markdown-toc-synchronize-to-joplin">Synchronize to Joplin</a></li>
  <li><a href="#synchronize-to-libreoffice" id="markdown-toc-synchronize-to-libreoffice">Synchronize to LibreOffice</a></li>
  <li><a href="#synchronize-to-eclipse" id="markdown-toc-synchronize-to-eclipse">Synchronize to Eclipse</a></li>
  <li><a href="#synchronize-to-freeplane" id="markdown-toc-synchronize-to-freeplane">Synchronize to Freeplane</a></li>
  <li><a href="#synchronize-to-firefox-and-thunderbird" id="markdown-toc-synchronize-to-firefox-and-thunderbird">Synchronize to Firefox and Thunderbird</a></li>
  <li><a href="#synchronize-to-kde-applications" id="markdown-toc-synchronize-to-kde-applications">Synchronize to KDE applications</a></li>
  <li><a href="#summary" id="markdown-toc-summary">Summary</a></li>
</ul>

<p>My toolchain for programming and document writing includes Emacs, Eclipse, LibreOffice, Joplin and Freeplane. For web page browsing and email, I use Firefox and Thunderbird. All of them provide a spell check function. As time goes on, I’ve added more and more rare words and terminology to them independently. To make the spell checking behavior consistent and remove the redundancy of adding a same word to all the applications, it is necessary to synchronize their user dictionaries. Since most of the time I work within Emacs, whose spell checker is <code class="language-plaintext highlighter-rouge">aspell</code>, I intend to copy all the words accumulated in <code class="language-plaintext highlighter-rouge">~/.aspell.en.pws</code> to the other applications.</p>

<h1 id="synchronize-to-joplin">Synchronize to Joplin</h1>

<p>The following script generates the Joplin customized dictionary by converting from the <code class="language-plaintext highlighter-rouge">aspell</code> dictionary.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">word_list</span><span class="o">=</span><span class="sb">`</span>gawk <span class="s1">'{if (NR &gt; 1) print;}'</span> ~/.aspell.en.pws<span class="sb">`</span>
<span class="nv">dict_checksum</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="nv">$word_list</span><span class="s2">"</span> | <span class="nb">md5sum</span> | <span class="nb">cut</span> <span class="nt">-d</span> <span class="s2">"-"</span> <span class="nt">-f</span> 1 | <span class="nb">tr</span> <span class="nt">-d</span> <span class="o">[</span>:space:]<span class="sb">`</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="nt">-n</span> <span class="s2">"</span><span class="k">${</span><span class="nv">word_list</span><span class="k">}</span><span class="se">\n</span><span class="s2">checksum_v1 = </span><span class="nv">$dict_checksum</span><span class="s2">"</span> <span class="o">&gt;</span> ~/.config/Joplin/Custom<span class="se">\ </span>Dictionary.txt
</code></pre></div></div>

<p>The procedure is described as this.</p>

<ol>
  <li>Use <code class="language-plaintext highlighter-rouge">Gawk</code> to remove the header line <code class="language-plaintext highlighter-rouge">personal_ws-1.1 en num</code> in <code class="language-plaintext highlighter-rouge">~/.aspell.en.pws</code>. The remaining contents in the file are the list of words, one item per line.</li>
  <li>Calculate the MD5 checksum of the word list. Note that the variable <code class="language-plaintext highlighter-rouge">$word_list</code> should be wrapped within double quotes. Otherwise, it will be separated into a list of values by whitespace according to the interior field separator <code class="language-plaintext highlighter-rouge">IFS</code>. Another thing to be mentioned is that there should be no newline character at the end of the word list. Otherwise, the checksum will be considered incorrect by Joplin.</li>
  <li>Write out the list of words along with the checksum value to Joplin’s custom dictionary file. N.B. The option <code class="language-plaintext highlighter-rouge">-n</code> of <code class="language-plaintext highlighter-rouge">echo</code> should be used, which prevents <code class="language-plaintext highlighter-rouge">echo</code> from adding a trailing newline character at the end of file, which is not accepted by Joplin.</li>
</ol>

<h1 id="synchronize-to-libreoffice">Synchronize to LibreOffice</h1>

<p>The following script generates the dictionary used by LibreOffice.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"OOoUserDict1</span><span class="se">\n</span><span class="s2">lang: &lt;none&gt;</span><span class="se">\n</span><span class="s2">type: positive</span><span class="se">\n</span><span class="s2">---"</span> <span class="o">&gt;</span> ~/.config/libreoffice/4/user/wordbook/aspell.dic
gawk <span class="s1">'{if (NR &gt; 1) print;}'</span> ~/.aspell.en.pws <span class="o">&gt;&gt;</span> ~/.config/libreoffice/4/user/wordbook/aspell.dic
</code></pre></div></div>

<p>The script first generates the header in the dictionary file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OOoUserDict1
lang: &lt;none&gt;
type: positive
---
</code></pre></div></div>

<p>Then it simply appends the word list from <code class="language-plaintext highlighter-rouge">aspell</code>. After that, in the configuration <code class="language-plaintext highlighter-rouge">Language Settings</code> → <code class="language-plaintext highlighter-rouge">Writing Aids</code>, <code class="language-plaintext highlighter-rouge">aspell</code> will appear in <code class="language-plaintext highlighter-rouge">User-defined dictionaries</code>, enable it.</p>

<p><img src="/figures/2022-07-21_16-57-46-user-dict-in-libreoffice.png" alt="" title="Enable aspell dictionary in LibreOffice" /></p>

<h1 id="synchronize-to-eclipse">Synchronize to Eclipse</h1>

<p>In the configuration <code class="language-plaintext highlighter-rouge">General</code> → <code class="language-plaintext highlighter-rouge">Editors</code> → <code class="language-plaintext highlighter-rouge">Text Editors</code> → <code class="language-plaintext highlighter-rouge">Spelling</code>, we can select the file for user defined dictionary.</p>

<p><img src="/figures/2022-07-21_16-58-24-user-dict-in-eclipse.png" alt="" title="User dictionary configuration in Eclipse" /></p>

<p>In my case, I use <code class="language-plaintext highlighter-rouge">~/.eclipse.dict</code>. Then simply copy all <code class="language-plaintext highlighter-rouge">aspell</code> word list to into it.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gawk <span class="s1">'{if (NR &gt; 1) print;}'</span> ~/.aspell.en.pws <span class="o">&gt;</span> ~/.eclipse.dict
</code></pre></div></div>

<h1 id="synchronize-to-freeplane">Synchronize to Freeplane</h1>

<p>The method is the same as Eclipse with the dictionary file being <code class="language-plaintext highlighter-rouge">~/.config/freeplane/1.9.x/UserDictionary_en.txt</code>.</p>

<h1 id="synchronize-to-firefox-and-thunderbird">Synchronize to Firefox and Thunderbird</h1>

<p>The method is the same as Eclipse with the dictionary file being <code class="language-plaintext highlighter-rouge">persdict.dat</code> in the default profile folder of Firefox or Thunderbird. Its absolute path can be obtained by visiting <code class="language-plaintext highlighter-rouge">about:profiles</code> in Firefox or Thunderbird.</p>

<h1 id="synchronize-to-kde-applications">Synchronize to KDE applications</h1>

<p>KDE applications like Kate, Okular, etc. rely on the plugin <code class="language-plaintext highlighter-rouge">Sonnet</code> for spell checking, which uses <code class="language-plaintext highlighter-rouge">aspell</code> as its backend. Therefore, spell checking in KDE applications is consistent with that in Emacs and there is nothing more to do.</p>

<h1 id="summary">Summary</h1>

<p>The above user dictionary synchronizations coalesce into a definitive solution for a consistent and uniform spell checking in KDE Plasma on Linux.</p>


  </div><div class="sharethis-inline-share-buttons"></div>

  <script src="https://utteranc.es/client.js"
          repo="jihuan-tian/jihuan-tian.github.io"
          issue-term="pathname"
          theme="github-light"
          crossorigin="anonymous"
          async>
  </script>

  <a class="u-url" href="/computer/2022/07/21/synchronize-user-dictionaries-across-different-software-applications.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">止于至善</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Jihuan Tian</li><li><a class="u-email" href="mailto:jihuan_tian@hotmail.com">jihuan_tian@hotmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>As regards numerical analysis, mathematical electromagnetism, Linux techniques and personal thoughts.</p>
      </div>
      <div class="footer-col">
        <p>The articles are under a <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/'>Creative Commons Attribution License</a>. Copyright &copy; 2025 <a href="mailto:jihuan_tian@hotmail.com">Jihuan Tian</a>.</p>
      </div>
    </div>
  </div>

</footer>
</body>

</html>
