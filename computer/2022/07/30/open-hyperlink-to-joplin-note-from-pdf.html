<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Open hyperlink to Joplin note from PDF | 止于至善</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Open hyperlink to Joplin note from PDF" />
<meta name="author" content="Jihuan Tian" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In this note, a link to a Joplin note can be created and opened in Emacs Org mode based on its external URL. However, when the Org document is exported to a LaTeX file, the original link, for example," />
<meta property="og:description" content="In this note, a link to a Joplin note can be created and opened in Emacs Org mode based on its external URL. However, when the Org document is exported to a LaTeX file, the original link, for example," />
<link rel="canonical" href="https://jihuan-tian.github.io/computer/2022/07/30/open-hyperlink-to-joplin-note-from-pdf.html" />
<meta property="og:url" content="https://jihuan-tian.github.io/computer/2022/07/30/open-hyperlink-to-joplin-note-from-pdf.html" />
<meta property="og:site_name" content="止于至善" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-07-30T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Open hyperlink to Joplin note from PDF" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jihuan Tian"},"dateModified":"2022-07-30T00:00:00+08:00","datePublished":"2022-07-30T00:00:00+08:00","description":"In this note, a link to a Joplin note can be created and opened in Emacs Org mode based on its external URL. However, when the Org document is exported to a LaTeX file, the original link, for example,","headline":"Open hyperlink to Joplin note from PDF","mainEntityOfPage":{"@type":"WebPage","@id":"https://jihuan-tian.github.io/computer/2022/07/30/open-hyperlink-to-joplin-note-from-pdf.html"},"url":"https://jihuan-tian.github.io/computer/2022/07/30/open-hyperlink-to-joplin-note-from-pdf.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/css/htmlize-syntax-highlight.css">
  
  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico?">
  <link href="https://fonts.googlefonts.cn/css?family=EB+Garamond" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="https://jihuan-tian.github.io/feed.xml" title="止于至善" />
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">止于至善</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          <!-- Enforce a fixed order for my categories. -->
          <a class="page-link" href="/math/">Math</a>
          <a class="page-link" href="/computer/">Computer</a>
          <a class="page-link" href="/thoughts/">Thoughts</a>
          <a class="page-link" href="/tags/">Tags</a>
          <a class="page-link" href="/about/">About</a>
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Open hyperlink to Joplin note from PDF</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2022-07-30T00:00:00+08:00" itemprop="datePublished">Jul 30, 2022 &nbsp;

        
          Categories:
          
            <a href="/computer">Computer</a>
          
         &nbsp;
        
          Tags:
          
            <a href="/tags/Joplin">Joplin</a>
          
            <a href="/tags/知识联接">知识联接</a>
          
            <a href="/tags/command">command</a>
          
        
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>In <a href="/computer/2022/07/30/create-link-to-joplin-notes-in-emacs-org-mode.html">this note</a>, a link to a Joplin note can be created and opened in Emacs Org mode based on its external URL. However, when the Org document is exported to a LaTeX file, the original link, for example,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>joplin://x-callback-url/openNote?id=62cef9486b08411ea8c5fcd49d9cd4ea
</code></pre></div></div>

<p>becomes</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\href</span><span class="p">{</span>//x-callback-url/openNote?id=a700a59f8a054e1aab97c296bf72fe3d<span class="p">}{</span>link name<span class="p">}</span>
</code></pre></div></div>

<p>After compiling the LaTeX file into a PDF file, this link will be converted to</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>file://x-callback-url/openNote%3Fid=a700a59f8a054e1aab97c296bf72fe3d.pdf
</code></pre></div></div>

<p>Of course, this is invalid. When clicking it in Okular, the following error message dialog appears.</p>

<p><img src="/figures/2022-07-30_21-25-35-joplin-link-error-in-pdf.png" alt="img" /></p>

<p>According to <a href="http://x-callback-url.com/">here</a>, <code class="language-plaintext highlighter-rouge">x-callback-url</code> is a protocol for iOS developers to expose and document the methods they make available to other apps, which cannot be supported on Linux. Therefore, it is necessary for us to copy out the note id, such as <code class="language-plaintext highlighter-rouge">a700a59f8a054e1aab97c296bf72fe3d</code> as above, then manually start Joplin to open this note. This process can be simplified by the following script, which either gets the command line argument or the content in the <a href="/computer/2022/05/28/clipboards-in-X-Window-System.html">primary clipboard</a> as the note id.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span><span class="o">=</span> <span class="s2">"1"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
  <span class="c"># Use the first argument on the command line as the note id.</span>
  <span class="nv">note_id</span><span class="o">=</span><span class="nv">$1</span>
<span class="k">else</span>
  <span class="c"># Use the clipboard content as the note id.</span>
  <span class="nv">note_id</span><span class="o">=</span><span class="sb">`</span>xclip <span class="nt">-selection</span> primary <span class="nt">-o</span><span class="sb">`</span>
<span class="k">fi

</span>joplin <span class="s2">"joplin://x-callback-url/openNote?id=</span><span class="nv">$note_id</span><span class="s2">"</span>
</code></pre></div></div>

<p>In this way, by simply double clicking on the note id in the error message dialog, then running this script, we can directly jump to the note in Joplin.</p>


  </div><a class="u-url" href="/computer/2022/07/30/open-hyperlink-to-joplin-note-from-pdf.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">止于至善</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Jihuan Tian</li><li><a class="u-email" href="mailto:jihuan_tian@hotmail.com">jihuan_tian@hotmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>As regards numerical analysis, mathematical electromagnetism, Linux techniques and personal thoughts.</p>
      </div>
      <div class="footer-col">
        <p>The articles are under a <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/'>Creative Commons Attribution License</a>. Copyright &copy; 2024 <a href="mailto:jihuan_tian@hotmail.com">Jihuan Tian</a>.</p>
      </div>
    </div>
  </div>

</footer>
</body>

</html>
